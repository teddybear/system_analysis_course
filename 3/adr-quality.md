# HCB-MCF-2 Решение по сервису контроля качества

## Status
Proposed

## Context

В рамках реализации MCF необходимо имплементировать контроль качества
Почему?
 - Для бизнеса важно осуществлять контроль качества исполнения заявок, чтобы клиенты оставались довольны

Из характеристик можно выделить agility, testability и deployability — общие требования к характеристикам системы.

Особых требований к контексту контроля качества нет, он вполне может быть частью сервиса выполнения заказа.

Однако, есть следующие соображения:
- Контроль качества менее нагружен, хотя бы просто в силу того, что он предназначен для внутреннего использования
- С той же точки зрения предназначения сервиса, логично в целях безопасности дополнительно выделить контур внутреннего использования
- Уровень сложности сервиса не очень высокий, это supporting subdomain, его можно сделать в более тривиальном архитектурном стиле, отдав на имплементацию менее опытной команде

## Decision

Исходя из соображений, контекст контроля качества должен иметь следующий вид:
- отдельный сервис
- выполенный в стиле layered monolith
- база данных RDBMS
- коммуникации: асинхронные (общий стиль проекта — EDA)

## Consequences
- Потребуется инфрастурктурное расширение под отдельный сервис, включая deployment и observability
- Для реализации выбранного стиля (layered monolith) можно выделить команду не самых опытных разработчиков.

## Compliance
Нужно помнить, что мы привлекаем не самых опытных разработчиков для решения задачи:

- Необходимо контролировать coverage и другие метрики качества кода, сервис очень критичен
- Нагрузочное тестирование
- Coupling/cohesion
- Проверка, что команда строго следует выбранному архитектурному стилю (нужно уточнить варианты контроля)
- Контроль релиз-цикла
- Контроль schema-registry